<template name="layout">
  <div class="fullscreen background parallax"
    style="background-image:url('http://www.minimit.com/images/picjumbo.com_IMG_6648.jpg');"
    data-img-width="1600" data-img-height="1064" data-diff="100">
  </div>

  <div class="not-fullscreen background parallax"
    style="background-image:url('http://www.minimit.com/images/picjumbo.com_IMG_6643.jpg');"
    data-img-width="1600" data-img-height="1064" data-diff="100">
  </div>

  <section class="not-fullscreen">
  </section>

  <div class="fullscreen background parallax"
    style="background-image:url('http://www.minimit.com/images/picjumbo.com_DSC_3274.jpg');"
    data-img-width="1600" data-img-height="1064" data-diff="100" data-oriz-pos="100%">
  </div>

  <section class="fullscreen">
  </section>

  <div class="fullscreen background parallax"
    style="background-image:url('http://www.minimit.com/images/picjumbo.com_IMG_9857.jpg');"
    data-img-width="1600" data-img-height="1064" data-diff="100">
  </div>

  <div class="not-fullscreen background parallax"
    style="background-image:url('http://www.minimit.com/images/picjumbo.com_IMG_8697.jpg');"
    data-img-width="1600" data-img-height="1064" data-diff="100">
  </div>

  <section class="fullscreen">
  </section>

  <script>
    /* detect touch */
    if("ontouchstart" in window) {
      document.documentElement.className = document.documentElement.className + " touch";
    }

    if(!$("html").hasClass("touch")){
      /* background fix */
      $(".parallax").css("background-attachment", "fixed");
    }

    $(window).resize(backgroundResize);
    $(window).focus(backgroundResize);

    backgroundResize();
    parallaxPosition();

    if(!$("html").hasClass("touch")){
      $(window).resize(parallaxPosition);
      //$(window).focus(parallaxPosition);
      $(window).scroll(parallaxPosition);
      parallaxPosition();
    }
  </script>
</template>
